<Window x:Class="DataGridNamespace.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
        xmlns:local="clr-namespace:DataGridNamespace"
        Height="720" Width="1080" WindowStartupLocation="CenterScreen" AllowsTransparency="True"
        Background="Transparent" WindowStyle="None" x:Name="mainWindow">

  <Window.Resources>
    <BooleanToVisibilityConverter x:Key="BoolToVis" />
        
    <!-- Menu Button Style -->
    <Style x:Key="menuButton" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        <Setter Property="Height" Value="45"/>
        <Setter Property="Margin" Value="0,5,0,0"/>
        <Setter Property="FontSize" Value="13"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}" CornerRadius="8">
                        <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center" Margin="15,0,0,0"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#006666"/>
                <Setter Property="Foreground" Value="White"/>
            </Trigger>
        </Style.Triggers>
    </Style>
        
    <!-- Menu Button Icon Style -->
    <Style x:Key="menuButtonIcon" TargetType="Icon:PackIconMaterial">
        <Setter Property="Width" Value="17"/>
        <Setter Property="Height" Value="17"/>
        <Setter Property="Margin" Value="0,0,15,0"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="Foreground" Value="{Binding Path=Foreground, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Button}}}"/>
    </Style>
        
    <!-- Search Textbox Style -->
    <Style x:Key="searchTextbox" TargetType="{x:Type TextBox}">
        <Setter Property="Background" Value="#fff"/>
        <Setter Property="Foreground" Value="#000"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="FontSize" Value="12"/>
        <Setter Property="Padding" Value="15 10"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TextBoxBase}">
                    <Border x:Name="border" CornerRadius="20" Background="{TemplateBinding Background}" 
                            BorderThickness="{TemplateBinding BorderThickness}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            SnapsToDevicePixels="True">
                        <ScrollViewer x:Name="PART_ContentHost" Focusable="False" 
                                    HorizontalScrollBarVisibility="Hidden" 
                                    VerticalScrollBarVisibility="Hidden"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="BorderBrush" TargetName="border" Value="#B0B9C6"/>
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter Property="BorderBrush" TargetName="border" Value="#B0B9C6"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
        
    <Style x:Key="filterTextBox" TargetType="TextBox">
        <Setter Property="Background" Value="#fff"/>
        <Setter Property="Foreground" Value="#000"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="FontSize" Value="12"/>
        <Setter Property="Padding" Value="15 10"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TextBoxBase}">
                    <Border x:Name="border" CornerRadius="20" Background="{TemplateBinding Background}" 
                            BorderThickness="{TemplateBinding BorderThickness}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            SnapsToDevicePixels="True">
                        <ScrollViewer x:Name="PART_ContentHost" Focusable="False" 
                                    HorizontalScrollBarVisibility="Hidden" 
                                    VerticalScrollBarVisibility="Hidden"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="BorderBrush" TargetName="border" Value="#B0B9C6"/>
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter Property="BorderBrush" TargetName="border" Value="#B0B9C6"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
        
    <Style x:Key="addButton" TargetType="Button">
        <Setter Property="Background" Value="#008080"/>
        <Setter Property="Foreground" Value="#ffffff"/>
        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        <Setter Property="Width" Value="150"/>
        <Setter Property="Height" Value="35"/>
        <Setter Property="HorizontalAlignment" Value="Right"/>
        <Setter Property="Margin" Value="0 20 0 0"/>
        <Setter Property="FontSize" Value="12"/>
        <Setter Property="Grid.Row" Value="2"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}" CornerRadius="7">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#006666"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Window Control Button Style -->
    <Style x:Key="WindowButtonStyle" TargetType="Button">
        <Setter Property="Width" Value="25"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Foreground" Value="#121518"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#ebebeb"/>
            </Trigger>
        </Style.Triggers>
    </Style>
  </Window.Resources>

  <Border CornerRadius="30" Background="#EFF2F7"
            MouseDown="Border_MouseDown" MouseLeftButtonDown="Border_MouseLeftButtonDown">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="200"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>

      <!-- Left Menu (Sidebar) -->
      <Grid Grid.Column="0">
        <Border Background="#008080" CornerRadius="0,50,0,30">
          <DockPanel LastChildFill="True">
            <!-- Top Section: Image and Text -->
            <StackPanel DockPanel.Dock="Top" Margin="20,20,20,0" HorizontalAlignment="Center">
              <!-- Profile Image -->
              <Border Width="80" Height="80" Padding="3" Background="White" CornerRadius="40">
                <Ellipse x:Name="ProfilePictureEllipse"> <!-- Add x:Name="ProfilePictureEllipse" here -->
                  <Ellipse.Fill>
                    <ImageBrush ImageSource="/Images/p1.jpg" Stretch="UniformToFill"/>
                  </Ellipse.Fill>
                </Ellipse>
              </Border>
              <!-- Titles -->
              <TextBlock Text="Thesis Manager" Foreground="White" FontSize="22" FontWeight="SemiBold"
                                       Margin="5,15,0,5" TextAlignment="Center"/>
              <TextBlock Text="USTHB" Foreground="#D0BFFF" FontSize="14" FontWeight="SemiBold"
                                       TextAlignment="Center"/>
            </StackPanel>

            <!-- Menu Buttons -->
            <StackPanel DockPanel.Dock="Top" Margin="20,10,20,0">
              <!-- Dashboard -->
              <Button x:Name="DashboardButton" Style="{StaticResource menuButton}" Click="DashboardButton_Click">
                <StackPanel Orientation="Horizontal">
                  <Icon:PackIconMaterial Kind="ViewDashboardOutline" Style="{StaticResource menuButtonIcon}"/>
                  <TextBlock Text="Dashboard"/>
                </StackPanel>
              </Button>

              <!-- Thesis -->
              <Button x:Name="ThesisButton" Style="{StaticResource menuButton}" Click="ThesisButton_Click">
                <StackPanel Orientation="Horizontal">
                  <Icon:PackIconMaterial Kind="BookOpenVariant" Style="{StaticResource menuButtonIcon}"/>
                  <TextBlock Text="Thesis"/>
                </StackPanel>
              </Button>

              <!-- My Theses -->
              <Button x:Name="MyThesesButton" Style="{StaticResource menuButton}" Click="MyThesesButton_Click">
                <StackPanel Orientation="Horizontal">
                  <Icon:PackIconMaterial Kind="BookMultipleOutline" Style="{StaticResource menuButtonIcon}"/>
                  <TextBlock Text="My Theses"/>
                </StackPanel>
              </Button>

              <!-- Favorite -->
              <Button x:Name="FavoritesButton" Style="{StaticResource menuButton}" Click="FavoritesButton_Click">
                <StackPanel Orientation="Horizontal">
                  <Icon:PackIconMaterial Kind="HeartOutline" Style="{StaticResource menuButtonIcon}"/>
                  <TextBlock Text="Favorie"/>
                </StackPanel>
              </Button>

              <!-- Members -->
              <Button x:Name="MembersButton" Style="{StaticResource menuButton}" Click="MembersButton_Click">
                <StackPanel Orientation="Horizontal">
                  <Icon:PackIconMaterial Kind="AccountMultipleOutline" Style="{StaticResource menuButtonIcon}"/>
                  <TextBlock Text="Members"/>
                </StackPanel>
              </Button>

              <!-- Demands -->
              <Button x:Name="DemandsButton" Style="{StaticResource menuButton}" Click="DemandsButton_Click">
                <StackPanel Orientation="Horizontal">
                  <Icon:PackIconMaterial Kind="ClipboardListOutline" Style="{StaticResource menuButtonIcon}"/>
                  <TextBlock Text="Demands"/>
                </StackPanel>
              </Button>

              <!-- News -->
              <Button x:Name="NewsButton" Style="{StaticResource menuButton}" Click="NewsButton_Click">
                <StackPanel Orientation="Horizontal">
                  <Icon:PackIconMaterial Kind="NewspaperVariantOutline" Style="{StaticResource menuButtonIcon}"/>
                  <TextBlock Text="News"/>
                </StackPanel>
              </Button>

              <!-- Profile -->
              <Button x:Name="ProfileButton" Style="{StaticResource menuButton}" Click="ProfileButton_Click">
                <StackPanel Orientation="Horizontal">
                  <Icon:PackIconMaterial Kind="AccountCircleOutline" Style="{StaticResource menuButtonIcon}"/>
                  <TextBlock Text="Profile"/>
                </StackPanel>
              </Button>

          
            </StackPanel>

            <!-- Logout Button at Bottom -->
            <Button Style="{StaticResource menuButton}" DockPanel.Dock="Bottom" Margin="15,0,15,20" Click="LogoutButton_Click">
              <StackPanel Orientation="Horizontal">
                <Icon:PackIconMaterial Kind="Logout" Style="{StaticResource menuButtonIcon}"/>
                <TextBlock Text="Logout"/>
              </StackPanel>
            </Button>
          </DockPanel>
        </Border>
      </Grid>

      <!-- Main Section -->
      <Grid Grid.Column="1" Margin="30 20 20 20">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Window Control Buttons -->
        <StackPanel Orientation="Horizontal" 
              HorizontalAlignment="Right" 
              VerticalAlignment="Top"
              Margin="0,0,0,20">
          <Button Style="{StaticResource WindowButtonStyle}"
              Click="MinimizeButton_Click">
            <Icon:PackIconMaterial Kind="WindowMinimize" 
                       Width="10" Height="10"/>
          </Button>
          <Button Style="{StaticResource WindowButtonStyle}"
              Click="MaximizeRestoreButton_Click">
            <Icon:PackIconMaterial Kind="WindowMaximize" 
                       Width="10" Height="10"/>
          </Button>
          <Button Style="{StaticResource WindowButtonStyle}"
              Click="CloseButton_Click">
            <Icon:PackIconMaterial Kind="Close" 
                       Width="10" Height="10"
                       Foreground="#FF0000"/>
          </Button>
        </StackPanel>

        <!-- Content Area -->
        <ScrollViewer Grid.Row="1" x:Name="ContentScrollViewer">
          <Frame x:Name="MainFrame" NavigationUIVisibility="Hidden"/>
        </ScrollViewer>
      </Grid>
    </Grid>
  </Border>
</Window>
